# Ball World - Игра про шарики

## Описание игры

**Ball World** — это интерактивная симуляция физики шариков с визуализацией на Pygame. В игре множество разноцветных шариков двигаются по экрану, взаимодействуют друг с другом и смешивают цвета при касании.

### Основные возможности:

- **Физика движения**: Шарики двигаются с реалистичной физикой, могут оборачиваться вокруг границ экрана
- **Всасывание шариков**: Зажмите левую кнопку мыши, чтобы создать "пылесос", который притягивает и собирает шарики в инвентарь
- **Выплёвывание шариков**: Правой кнопкой мыши наведите и отпустите, чтобы выплюнуть шарики из инвентаря в направлении движения мыши
- **Смешивание цветов**: При касании шарики смешивают свои цвета (без отталкивания)
- **Зона удаления**: Красная зона в правом нижнем углу — шарики, попавшие туда, удаляются

### Как играть:

1. **Всасывание**: Зажмите левую кнопку мыши и перемещайте курсор — шарики будут притягиваться и собираться в инвентарь
2. **Выплёвывание**: Зажмите правую кнопку мыши, потяните в нужном направлении и отпустите — 3 шарика вылетят из инвентаря
3. **Наблюдение**: Смотрите, как шарики смешивают цвета и двигаются по экрану

---

## Локальный запуск

### Требования

- Python 3.9 или выше
- pygame библиотека

### Установка зависимостей

```bash
pip install -r requirements.txt
```

### Запуск игры

```bash
python gui.py
```

Или через main.py:

```bash
python main.py
```

---

## Запуск через Docker

Игра поддерживает запуск в Docker-контейнере с графическим интерфейсом через X11.

### Требования для Docker

- Docker установлен и запущен
- X11 сервер (для Windows: VcXsrv или Xming; для Linux: обычно уже установлен; для macOS: XQuartz)

### Настройка X11 (только для Windows)

1. Установите **VcXsrv** (https://sourceforge.net/projects/vcxsrv/)
2. Запустите **XLaunch** и выберите:
   - Display number: 0
   - Start no client: ✓
   - Disable access control: ✓ (важно!)
3. Запомните IP адрес вашего компьютера (например, `172.20.10.2`)

### Сборка Docker-образа

```bash
docker build -t ball-world:latest .
```

### Запуск Docker-контейнера

#### Linux/macOS:

```bash
docker run -it --rm \
  -e DISPLAY=$DISPLAY \
  -v /tmp/.X11-unix:/tmp/.X11-unix \
  ball-world:latest
```

#### Windows (с VcXsrv):

```bash
docker run -it --rm `
  -e DISPLAY=172.20.10.2:0.0 `
  ball-world:latest
```

Замените `172.20.10.2` на IP адрес вашего компьютера.

### Альтернативный способ (docker-compose)

Создайте файл `docker-compose.yml`:

```yaml
version: '3.8'
services:
  ball-world:
    build: .
    image: ball-world:latest
    container_name: ball-world
    environment:
      - DISPLAY=${DISPLAY:-:0}
    volumes:
      - /tmp/.X11-unix:/tmp/.X11-unix:rw
    network_mode: host
```

Запуск:

```bash
docker-compose up
```

---

## Структура проекта

```
.
├── main.py          # Точка входа (запускает gui.py)
├── gui.py           # Графический интерфейс (Pygame)
├── logic.py         # Игровая логика (физика, взаимодействие)
├── requirements.txt # Python зависимости
├── Dockerfile       # Docker образ
└── README.md        # Документация
```

---

## Настройка игры

В файле `gui.py` можно изменить следующие параметры:

- `INITIAL_BALL_COUNT` — начальное количество шариков (по умолчанию: 60)
- `WINDOW_WIDTH`, `WINDOW_HEIGHT` — размер окна (по умолчанию: 960x600)
- `SUCTION_RADIUS` — радиус действия пылесоса (по умолчанию: 100)
- `SPIT_COUNT` — количество шариков за один выплёвывание (по умолчанию: 3)
- `SPIT_SPEED` — скорость выплёвывания шариков (по умолчанию: 320)

---

## Управление

- **Левая кнопка мыши** (зажать) — всасывание шариков
- **Правая кнопка мыши** (зажать и потянуть) — выплёвывание шариков
- **ESC** — выход из игры

---

## Технические детали

- **Физика**: Реалистичная физика движения с затуханием
- **Границы**: Режим "wrap" — шарики оборачиваются вокруг экрана
- **Цвета**: Смешивание RGB цветов при касании шариков
- **Инвентарь**: Система сбора и хранения шариков
- **Производительность**: Оптимизировано для 120 FPS

---

## Лицензия

Этот проект создан в образовательных целях.

